<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>
<body>
<header th:insert="blocks/header :: header"></header>

<h4>Topic List</h4>

<!-----------------------   New Layout  ----------------------->

<div class="container-fluid">
    <div class="row m-2">
        <div class="col bg-info ">
            Left
            <hr>

            <!--CardGroupLeft-->
            <div class="card-group">
                <div class="card">
                    <div class="card-header">
                        <div th:text="${curTopic.getName()}" style="font-weight: bold;color: #bd2130"></div>
                        <div th:text="'Topic contains ' + ${curTopic.getChildrenSet().size()} + ' subTopic elements'"></div>
                    </div>
                    <card-body>
                        <hr>
                        <div th:text="'Topic Id '+${curTopic.id}"></div>
                        <div th:text="'Topic Parent Id '+${curTopic.getParentId()}"></div>
                        <!--<div th:text="'Topic Name '+${curTopic.name}" style="font-weight: bold;color:darkred"></div>-->
                        <hr>
                        <div th:if="${curTopic.getParentTopic() != null}">
                            <div th:text="'Parent obj: '+${curTopic.getParentTopic().getName()}" style="font-weight:bold"></div>
                        </div>
                        <div th:if="${curTopic.getParentTopic() == null}">
                            <strong>This Topic has NO Parent Obj</strong>

                        </div>


                        <hr>
                        <div th:text="'Children Set contains '+${curTopic.getChildrenSet().size()}+' objects:'"></div>
                        <hr style="margin-left: 20px">
                        <ul th:each="ch0:${curTopic.getChildrenSet()}">
                            <a th:href="'/topic/details/'+${ch0.getId()}" >
                                <li th:text="${ch0.getName()}"></li>
                            </a>

                        </ul>
                        <hr>

                        <ul th:each="childSub:${curTopic.getChildrenSet()}">
                            <a th:href="'/topic/details/'+${childSub.getId()}" class="btn btn-outline-primary btn-sm shadow-sm ">
                                <li th:text="${childSub.getName()}+' '+${childSub.getId()}"></li>
                            </a>


                        </ul>

                    </card-body>
                    <div class="card-footer">
                        <a th:href="'/topic/details/'+${curTopic.id}" class="btn btn-outline-danger">Детальнее</a>

                        <a th:href="'/sub-topic-add/' + ${curTopic.id}+'/'+(${curTopic.parentId})" class="btn btn-outline-primary py-1">Добавить
                            Субтопик</a>

                    </div>
                </div>
            </div><!--Card Group-->
            <!--CardGroupLeft-->

        </div><!--Left Col-->
        <div class="col-8 bg-primary">
            CENTER
            <hr>
            <div class="container">
                <div class="row row-cols-2">
                    <!--CardGroupCenter-->
                    <div class="card-group" th:each="childTopic, stat :${curTopic.getChildrenSet()}">
                        <div class="card mb-2" style="width:18rem">
                            <div class="card-header">
                                <div th:text="${childTopic.getName()}" style="font-weight: bolder"></div>
                                <div th:text="'Topic contains '+${stat.size}+' elements'"></div>
                            </div>
                            <card-body>
                                <div th:text="'Id '+${childTopic.getId()}"></div>
                                <div th:text="'Name '+${childTopic.getName()}"></div>
                                <div th:text="'Description '+${childTopic.getDescription()}"></div>
                                <hr>
                                <div th:text="'Parent obj: '+${childTopic.getParentTopic().getName()}"></div>
                                <hr>
                                <div th:text="${childTopic.getChildrenSet()}"></div>
                                <hr>

                                <!---->
                                <div class="row row-cols-2">
                                        <div class="card-group" th:each="childCard:${childTopic.getChildrenSet()}">
                                            <div class="card m-2 shadow-sm">
                                                <div class="card-body">
                                                    <div th:text="'Id '+${childCard.getId()}"></div>
                                                    <div th:text="'Name '+${childCard.getName()}"></div>
                                                </div>
                                                <div class="card-footer">
                                                    <a th:href="'/topic/details/'+${childTopic.getId()}" class="btn btn-outline-danger">Детальнее</a>

                                                    <a th:href="'/sub-topic-add/' + ${childCard.getId()}+'/'+(${curTopic.parentId})"
                                                       class="btn btn-outline-primary py-1">Добавить Субтопик</a>
                                                    <hr>
                                                    <a th:href="'/topic/remove/'+${childCard.getId()}" class="btn btn-outline-warning">Удалить</a>

                                                </div>
                                            </div>
                                        </div>
                                </div>

                                <!---->

                            </card-body>
                            <div class="card-footer">
                                <a th:href="'/topic/details/'+${childTopic.getId()}" class="btn btn-outline-danger">Детальнее</a>

                                <a th:href="'/sub-topic-add/' + ${childTopic.getId()}+'/'+(${curTopic.parentId})" class="btn btn-outline-primary py-1">Добавить
                                    Субтопик</a>

                            </div>
                        </div>
                    </div>
                    <!--CardGroupCenter-->
                </div>
            </div><!--Inner Container-->


        </div><!--Center Col-->

        <div class="col bg-success ml-2">
            Right
            <hr>
            <div>
                <div    th:insert="blocks/fragments :: cardFrag(cardObj=${curTopic})"></div>

            </div>
            <div>Место вставки</div>
            <hr>
            <div class="card-group">
                <div class="card">
                    <div class="card-header">Header</div>
                    <div class="card-body">
                        <h6>Text</h6>
                        <p>Description</p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-outline-success">Button</button>
                    </div>
                </div>
            </div>
        </div><!--Right Col-->
    </div><!--ROW-->
    <div class="p-2">
        <hr>
        DiViDer
        <hr>
    </div>
</div><!--Container-->

<!-----------------------   Old Layout  ----------------------->
<!--<div class="container-fluid">
    <div class="row ">
        <div class="col">Левый
            <hr>
            <div class="card-group">
                <div class="card">
                    <div class="card-header">
                        <div th:text="${curTopic.getName()}" style="font-weight: bold;color: #bd2130"></div>
                        <div th:text="'Topic contains ' + ${curTopic.getChildrenSet().size()} + ' subTopic elements'"></div>
                    </div>
                    <card-body>
                        <hr>
                        <div th:text="'Topic Id '+${curTopic.id}"></div>
                        <div th:text="'Topic Parent Id '+${curTopic.getParentId()}"></div>
                        &lt;!&ndash;<div th:text="'Topic Name '+${curTopic.name}" style="font-weight: bold;color:darkred"></div>&ndash;&gt;
                        <hr>
                        <div th:if="${curTopic.getParentTopic() != null}">
                            <div th:text="'Parent obj: '+${curTopic.getParentTopic().getName()}" style="font-weight:bold"></div>
                        </div>
                        <div th:if="${curTopic.getParentTopic() == null}">
                            <strong>This Topic has NO Parent Obj</strong>

                        </div>


                        <hr>
                        <div th:text="'Children Set contains '+${curTopic.getChildrenSet().size()}+' objects:'"></div>
                        <hr style="margin-left: 20px">
                        <ul th:each="ch0:${curTopic.getChildrenSet()}">
                            <a th:href="'/topic/details/'+${ch0.getId()}" >
                                <li th:text="${ch0.getName()}"></li>
                            </a>

                        </ul>
                        <hr>

                        <ul th:each="childSub:${curTopic.getChildrenSet()}">
                            <a th:href="'/topic/details/'+${childSub.getId()}" class="btn btn-outline-primary btn-sm shadow-sm ">
                                <li th:text="${childSub.getName()}+' '+${childSub.getId()}"></li>
                            </a>


                        </ul>

                    </card-body>
                    <div class="card-footer">
                        <a th:href="'/topic/details/'+${curTopic.id}" class="btn btn-outline-danger">Детальнее</a>

                        <a th:href="'/sub-topic-add/' + ${curTopic.id}+'/'+(${curTopic.parentId})" class="btn btn-outline-primary py-1">Добавить
                            Субтопик</a>

                    </div>
                </div>
            </div>&lt;!&ndash;Card Group&ndash;&gt;

        </div>&lt;!&ndash;Reft col&ndash;&gt;
    </div>&lt;!&ndash;Reft Row&ndash;&gt;
        <div class="col">Центр
    <div class="container">
    <hr>
    <div class="row ">
        <div class="card-group" th:each="childTopic, stat :${curTopic.getChildrenSet()}">
            <div class="card mb-2">
                <div class="card-header">
                    <div th:text="${childTopic.getName()}" style="font-weight: bolder"></div>
                    <div th:text="'Topic contains '+${stat.size}+' elements'"></div>
                </div>
                <card-body>
                    <div th:text="'Id '+${childTopic.getId()}"></div>
                    <div th:text="'Name '+${childTopic.getName()}"></div>
                    <div th:text="'Description '+${childTopic.getDescription()}"></div>
                    <hr>
                    <div th:text="'Parent obj: '+${childTopic.getParentTopic().getName()}"></div>
                    <hr>
                    <div th:text="${childTopic.getChildrenSet()}"></div>

                    &lt;!&ndash;&ndash;&gt;
                    <div class="row">
                        <div class="col">
                            <div class="card-group" th:each="childCard:${childTopic.getChildrenSet()}">
                                <div class="card m-2 shadow-sm">
                                    <div class="card-body">
                                        <div th:text="'Id '+${childCard.getId()}"></div>
                                        <div th:text="'Name '+${childCard.getName()}"></div>
                                    </div>
                                    <div class="card-footer">
                                        <a th:href="'/topic/details/'+${childTopic.getId()}" class="btn btn-outline-danger">Детальнее</a>

                                        <a th:href="'/sub-topic-add/' + ${childCard.getId()}+'/'+(${curTopic.parentId})"
                                           class="btn btn-outline-primary py-1">Добавить Субтопик</a>
                                        <hr>
                                        <a th:href="'/topic/remove/'+${childCard.getId()}" class="btn btn-outline-warning">Удалить</a>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    &lt;!&ndash;&ndash;&gt;

                </card-body>
                <div class="card-footer">
                    &lt;!&ndash;<a th:href="'/sub-topic-add/' + ${curTopic.id}+'/'+(${curTopic.parentId})" class="btn btn-outline-primary py-1">Добавить&ndash;&gt;
                    <a th:href="'/sub-topic-add/' + ${childTopic.getId()}+'/'+(${curTopic.parentId})" class="btn btn-outline-primary py-1">Добавить
                        Субтопик</a>

                </div>
            </div>
        </div>
    </div>&lt;!&ndash;Center Row&ndash;&gt;


</div>
</div>


        &lt;!&ndash;</div>&ndash;&gt;
        &lt;!&ndash;<div class="col">Правый</div>&ndash;&gt;
    </div>-->
</div>
</body>
</html>